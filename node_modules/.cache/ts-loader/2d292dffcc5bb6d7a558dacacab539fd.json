{"remainingRequest":"D:\\vue3-project\\lego\\node_modules\\babel-loader\\lib\\index.js!D:\\vue3-project\\lego\\node_modules\\ts-loader\\index.js??ref--15-2!D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\vue3-project\\lego\\src\\components\\LayerList.vue?vue&type=script&setup=true&lang=ts","dependencies":[{"path":"D:\\vue3-project\\lego\\src\\components\\LayerList.vue","mtime":1678114391860},{"path":"D:\\vue3-project\\lego\\babel.config.js","mtime":1677514846241},{"path":"D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674816758787},{"path":"D:\\vue3-project\\lego\\node_modules\\babel-loader\\lib\\index.js","mtime":1674816767357},{"path":"D:\\vue3-project\\lego\\node_modules\\ts-loader\\index.js","mtime":1674816768512},{"path":"D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674816758787},{"path":"D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1674816769351}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyByZWFjdGl2ZSB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IEV5ZU91dGxpbmVkLCBFeWVJbnZpc2libGVPdXRsaW5lZCwgTG9ja091dGxpbmVkLCBVbmxvY2tPdXRsaW5lZCB9IGZyb20gJ0BhbnQtZGVzaWduL2ljb25zLXZ1ZSc7CmltcG9ydCBJbmxpbmVFZGl0IGZyb20gJy4vSW5saW5lRWRpdC52dWUnOwppbXBvcnQgeyBnZXRQYXJlbnRFbGVtZW50IH0gZnJvbSAnLi4vaGVscGVyJzsKZXhwb3J0IGRlZmF1bHQgLyojX19QVVJFX18qL19kZWZpbmVDb21wb25lbnQoewogIF9fbmFtZTogJ0xheWVyTGlzdCcsCiAgcHJvcHM6IHsKICAgIGxpc3Q6IHsKICAgICAgdHlwZTogQXJyYXkKICAgIH0sCiAgICBzZWxlY3RlZElkOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfQogIH0sCiAgZW1pdHM6IFsnc2VsZWN0JywgJ2NoYW5nZSddLAogIHNldHVwKF9fcHJvcHMsIHsKICAgIGV4cG9zZSwKICAgIGVtaXQKICB9KSB7CiAgICBleHBvc2UoKTsKICAgIGNvbnN0IGRyYWdEYXRhID0gcmVhY3RpdmUoewogICAgICBjdXJyZW50RHJhZ2dpbmc6ICcnLAogICAgICBjdXJyZW50SW5kZXg6IC0xCiAgICB9KTsKICAgIGNvbnN0IG9uRHJhZ1N0YXJ0ID0gKGUsIGlkLCBpbmRleCkgPT4gewogICAgICAvLyDku6PooajmraPlnKjmi5bmi73lhYPntKAKICAgICAgZHJhZ0RhdGEuY3VycmVudERyYWdnaW5nID0gaWQ7CiAgICAgIGRyYWdEYXRhLmN1cnJlbnRJbmRleCA9IGluZGV4OwogICAgfTsKICAgIGNvbnN0IG9uRHJvcCA9IGUgPT4gewogICAgICAvLyBjb25zdCBjdXJyZW50RWxlbWVudCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50CiAgICAgIGNvbnN0IGN1cnJlbnRFbGVtZW50ID0gZ2V0UGFyZW50RWxlbWVudChlLnRhcmdldCwgJ2FudC1saXN0LWl0ZW0nKTsKICAgICAgaWYgKGN1cnJlbnRFbGVtZW50LmRhdGFzZXQuaW5kZXgpIHsKICAgICAgICBjb25zdCBtb3ZlSW5kZXggPSBwYXJzZUludChjdXJyZW50RWxlbWVudC5kYXRhc2V0LmluZGV4KTsKICAgICAgICBjb25zb2xlLmxvZyhtb3ZlSW5kZXgpOwogICAgICB9CiAgICAgIGRyYWdEYXRhLmN1cnJlbnREcmFnZ2luZyA9ICcnOwogICAgfTsKICAgIGNvbnN0IG9uZHJhZ292ZXIgPSBlID0+IHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfTsKICAgIC8vIGNvbnN0IGlzQWN0aXZlID0gcmVmKGZhbHNlKQogICAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoaWQsIGtleSwgdmFsdWUpID0+IHsKICAgICAgY29uc29sZS5sb2coJ3ZhbHVlJywgdmFsdWUpOwogICAgICBjb25zdCBkYXRhID0gewogICAgICAgIGlkLAogICAgICAgIGtleSwKICAgICAgICB2YWx1ZSwKICAgICAgICBpc1Jvb3Q6IHRydWUKICAgICAgfTsKICAgICAgZW1pdCgnY2hhbmdlJywgZGF0YSk7CiAgICB9OwogICAgY29uc3QgaGFuZGxlU2VsZWN0ID0gaWQgPT4gewogICAgICBlbWl0KCdzZWxlY3QnLCBpZCk7CiAgICB9OwogICAgY29uc3QgaGFuZGxlQ2hhbmdlID0gaW5uZXJWYWx1ZSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCdpbm5lclZhbHVlJywgaW5uZXJWYWx1ZSk7CiAgICB9OwogICAgY29uc3QgX19yZXR1cm5lZF9fID0gewogICAgICBkcmFnRGF0YSwKICAgICAgb25EcmFnU3RhcnQsCiAgICAgIG9uRHJvcCwKICAgICAgb25kcmFnb3ZlciwKICAgICAgZW1pdCwKICAgICAgaGFuZGxlQ2xpY2ssCiAgICAgIGhhbmRsZVNlbGVjdCwKICAgICAgaGFuZGxlQ2hhbmdlLAogICAgICBnZXQgRXllT3V0bGluZWQoKSB7CiAgICAgICAgcmV0dXJuIEV5ZU91dGxpbmVkOwogICAgICB9LAogICAgICBnZXQgRXllSW52aXNpYmxlT3V0bGluZWQoKSB7CiAgICAgICAgcmV0dXJuIEV5ZUludmlzaWJsZU91dGxpbmVkOwogICAgICB9LAogICAgICBnZXQgTG9ja091dGxpbmVkKCkgewogICAgICAgIHJldHVybiBMb2NrT3V0bGluZWQ7CiAgICAgIH0sCiAgICAgIGdldCBVbmxvY2tPdXRsaW5lZCgpIHsKICAgICAgICByZXR1cm4gVW5sb2NrT3V0bGluZWQ7CiAgICAgIH0sCiAgICAgIElubGluZUVkaXQKICAgIH07CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX19yZXR1cm5lZF9fLCAnX19pc1NjcmlwdFNldHVwJywgewogICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgdmFsdWU6IHRydWUKICAgIH0pOwogICAgcmV0dXJuIF9fcmV0dXJuZWRfXzsKICB9Cn0pOw=="},{"version":3,"mappings":"AAAA,SAASA,eAAe,IAAIC,gBAAgB,QAAQ,KAAK;AAEzD,SAASC,QAAQ,QAAkB,KAAK;AACxC,SAASC,WAAW,EAAEC,oBAAoB,EAAEC,YAAY,EAAEC,cAAc,QAAQ,uBAAuB;AACvG,OAAOC,UAAU,MAAM,kBAAkB;AACzC,SAASC,gBAAgB,QAAQ,WAAW;AAG5C,eAAe,aAAaP,gBAAgB,CAAC;EAC3CQ,MAAM,EAAE,WAAW;EACnBC,KAAK,EAAE;IACPC,IAAI,EAAE;MACJC,IAAI,EAAEC;KACP;IACDC,UAAU,EAAE;MACVF,IAAI,EAAEG;;GAET;EACCC,KAAK,EAAE,CAAC,QAAQ,EAAE,QAAQ,CAAC;EAC3BC,KAAK,CAACC,OAAO,EAAE;IAAEC,MAAM;IAAEC;EAAI,CAAE;IAC/BD,MAAM,EAAE;IAGV,MAAME,QAAQ,GAAGnB,QAAQ,CAAC;MACxBoB,eAAe,EAAE,EAAE;MACnBC,YAAY,EAAE,CAAC;KAChB,CAAC;IACF,MAAMC,WAAW,GAAG,CAACC,CAAY,EAAEC,EAAU,EAAEC,KAAa,KAAI;MAC9D;MACAN,QAAQ,CAACC,eAAe,GAAGI,EAAE;MAC7BL,QAAQ,CAACE,YAAY,GAAGI,KAAK;IAC/B,CAAC;IACD,MAAMC,MAAM,GAAIH,CAAY,IAAI;MAC9B;MACA,MAAMI,cAAc,GAAGrB,gBAAgB,CAACiB,CAAC,CAACK,MAAqB,EAAE,eAAe,CAAC;MACjF,IAAID,cAAc,CAACE,OAAO,CAACJ,KAAK,EAAE;QAChC,MAAMK,SAAS,GAAGC,QAAQ,CAACJ,cAAc,CAACE,OAAO,CAACJ,KAAK,CAAC;QACxDO,OAAO,CAACC,GAAG,CAACH,SAAS,CAAC;;MAGxBX,QAAQ,CAACC,eAAe,GAAG,EAAE;IAC/B,CAAC;IACD,MAAMc,UAAU,GAAIX,CAAY,IAAI;MAClCA,CAAC,CAACY,cAAc,EAAE;IACpB,CAAC;IAED;IACA,MAAMC,WAAW,GAAG,CAACZ,EAAU,EAAEa,GAAW,EAAEC,KAAc,KAAI;MAC9DN,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEK,KAAK,CAAC;MAC3B,MAAMC,IAAI,GAAG;QACXf,EAAE;QACFa,GAAG;QACHC,KAAK;QACLE,MAAM,EAAE;OACT;MACDtB,IAAI,CAAC,QAAQ,EAAEqB,IAAI,CAAC;IACtB,CAAC;IACD,MAAME,YAAY,GAAIjB,EAAU,IAAI;MAClCN,IAAI,CAAC,QAAQ,EAAEM,EAAE,CAAC;IACpB,CAAC;IACD,MAAMkB,YAAY,GAAIC,UAAkB,IAAI;MAC1CX,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEU,UAAU,CAAC;IAEvC,CAAC;IAGD,MAAMC,YAAY,GAAG;MAAEzB,QAAQ;MAAEG,WAAW;MAAEI,MAAM;MAAEQ,UAAU;MAAEhB,IAAI;MAAEkB,WAAW;MAAEK,YAAY;MAAEC,YAAY;MAAE,IAAIzC,WAAW;QAAK,OAAOA,WAAW;MAAC,CAAC;MAAE,IAAIC,oBAAoB;QAAK,OAAOA,oBAAoB;MAAC,CAAC;MAAE,IAAIC,YAAY;QAAK,OAAOA,YAAY;MAAC,CAAC;MAAE,IAAIC,cAAc;QAAK,OAAOA,cAAc;MAAC,CAAC;MAAEC;IAAU,CAAE;IAC/TwC,MAAM,CAACC,cAAc,CAACF,YAAY,EAAE,iBAAiB,EAAE;MAAEG,UAAU,EAAE,KAAK;MAAET,KAAK,EAAE;IAAI,CAAE,CAAC;IAC1F,OAAOM,YAAY;EACnB;CAEC,CAAC","names":["defineComponent","_defineComponent","reactive","EyeOutlined","EyeInvisibleOutlined","LockOutlined","UnlockOutlined","InlineEdit","getParentElement","__name","props","list","type","Array","selectedId","String","emits","setup","__props","expose","emit","dragData","currentDragging","currentIndex","onDragStart","e","id","index","onDrop","currentElement","target","dataset","moveIndex","parseInt","console","log","ondragover","preventDefault","handleClick","key","value","data","isRoot","handleSelect","handleChange","innerValue","__returned__","Object","defineProperty","enumerable"],"sourceRoot":"","sources":["D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\vue3-project\\lego\\src\\components\\LayerList.vue?vue&type=script&setup=true&lang=ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { ComponentData } from '../store/editor'\r\nimport { reactive, PropType } from 'vue'\r\nimport { EyeOutlined, EyeInvisibleOutlined, LockOutlined, UnlockOutlined } from '@ant-design/icons-vue'\r\nimport InlineEdit from './InlineEdit.vue'\r\nimport { getParentElement } from '../helper'\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LayerList',\n  props: {\r\n  list: {\r\n    type: Array as PropType<ComponentData[]>\r\n  },\r\n  selectedId: {\r\n    type: String\r\n  }\r\n},\n  emits: ['select', 'change'],\n  setup(__props, { expose, emit }) {\n  expose();\n\r\n\r\nconst dragData = reactive({\r\n  currentDragging: '',\r\n  currentIndex: -1\r\n})\r\nconst onDragStart = (e: DragEvent, id: string, index: number) => {\r\n  // 代表正在拖拽元素\r\n  dragData.currentDragging = id\r\n  dragData.currentIndex = index\r\n}\r\nconst onDrop = (e: DragEvent) => {\r\n  // const currentElement = e.target as HTMLElement\r\n  const currentElement = getParentElement(e.target as HTMLElement, 'ant-list-item')\r\n  if (currentElement.dataset.index) {\r\n    const moveIndex = parseInt(currentElement.dataset.index)\r\n    console.log(moveIndex);\r\n    \r\n  }\r\n  dragData.currentDragging = ''\r\n}\r\nconst ondragover = (e: DragEvent) => {\r\n  e.preventDefault()\r\n}\r\n\r\n// const isActive = ref(false)\r\nconst handleClick = (id: string, key: string, value: boolean) => {\r\n  console.log('value', value);\r\n  const data = {\r\n    id,\r\n    key,\r\n    value,\r\n    isRoot: true\r\n  }\r\n  emit('change', data)\r\n}\r\nconst handleSelect = (id: string) => {\r\n  emit('select', id)\r\n}\r\nconst handleChange = (innerValue: string) => {\r\n  console.log('innerValue', innerValue);\r\n  \r\n}\r\n\r\n\nconst __returned__ = { dragData, onDragStart, onDrop, ondragover, emit, handleClick, handleSelect, handleChange, get EyeOutlined() { return EyeOutlined }, get EyeInvisibleOutlined() { return EyeInvisibleOutlined }, get LockOutlined() { return LockOutlined }, get UnlockOutlined() { return UnlockOutlined }, InlineEdit }\nObject.defineProperty(__returned__, '__isScriptSetup', { enumerable: false, value: true })\nreturn __returned__\n}\n\n})"]}]}