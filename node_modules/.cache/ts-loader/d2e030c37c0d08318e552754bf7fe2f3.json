{"remainingRequest":"D:\\vue3-project\\lego\\node_modules\\babel-loader\\lib\\index.js!D:\\vue3-project\\lego\\node_modules\\ts-loader\\index.js??ref--15-2!D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\vue3-project\\lego\\src\\components\\LayerList.vue?vue&type=script&setup=true&lang=ts","dependencies":[{"path":"D:\\vue3-project\\lego\\src\\components\\LayerList.vue","mtime":1678172746268},{"path":"D:\\vue3-project\\lego\\babel.config.js","mtime":1678260403893},{"path":"D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674816758787},{"path":"D:\\vue3-project\\lego\\node_modules\\babel-loader\\lib\\index.js","mtime":1674816767357},{"path":"D:\\vue3-project\\lego\\node_modules\\ts-loader\\index.js","mtime":1674816768512},{"path":"D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674816758787},{"path":"D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1674816769351}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyByZWFjdGl2ZSwgcmVmIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgRXllT3V0bGluZWQsIEV5ZUludmlzaWJsZU91dGxpbmVkLCBMb2NrT3V0bGluZWQsIFVubG9ja091dGxpbmVkLCBEcmFnT3V0bGluZWQgfSBmcm9tICdAYW50LWRlc2lnbi9pY29ucy12dWUnOwppbXBvcnQgSW5saW5lRWRpdCBmcm9tICcuL0lubGluZUVkaXQudnVlJzsKLy8gaW1wb3J0IHsgZ2V0UGFyZW50RWxlbWVudCB9IGZyb20gJy4uL2hlbHBlcicKLy8gLy8gaW1wb3J0IGFycmF5TW92ZSBmcm9tICdhcnJheS1tb3ZlJwovLyBpbXBvcnQge2FycmF5TW92ZUltbXV0YWJsZX0gZnJvbSAnYXJyYXktbW92ZScKaW1wb3J0IGRyYWdnYWJsZSBmcm9tICJ2dWVkcmFnZ2FibGUiOwpleHBvcnQgZGVmYXVsdCAvKiNfX1BVUkVfXyovX2RlZmluZUNvbXBvbmVudCh7CiAgX19uYW1lOiAnTGF5ZXJMaXN0JywKICBwcm9wczogewogICAgbGlzdDogewogICAgICB0eXBlOiBBcnJheQogICAgfSwKICAgIHNlbGVjdGVkSWQ6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9CiAgfSwKICBlbWl0czogWydzZWxlY3QnLCAnY2hhbmdlJywgJ2Ryb3AnXSwKICBzZXR1cChfX3Byb3BzLCB7CiAgICBleHBvc2UsCiAgICBlbWl0CiAgfSkgewogICAgZXhwb3NlKCk7CiAgICAvLyBjb25zdCBhcnJMaXN0ID0gcmVmKHByb3BzLmxpc3QpCiAgICAvLyBsZXQgc3RhcnQgPSAtMQogICAgLy8gbGV0IGVuZCA9IC0xCiAgICBjb25zdCBkcmFnRGF0YSA9IHJlYWN0aXZlKHsKICAgICAgY3VycmVudERyYWdnaW5nOiAnJywKICAgICAgY3VycmVudEluZGV4OiAtMQogICAgfSk7CiAgICBjb25zdCBkcmFnZ2luZyA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBlbmFibGVkID0gcmVmKHRydWUpOwogICAgLy8gY29uc3QgbGlzdCA9IHJlZihbCiAgICAvLyAgIHsgbmFtZTogIkpvaG4iLCBpZDogMCB9LAogICAgLy8gICB7IG5hbWU6ICJKb2FvIiwgaWQ6IDEgfSwKICAgIC8vICAgeyBuYW1lOiAiSmVhbiIsIGlkOiAyIH0KICAgIC8vIF0pCiAgICBjb25zdCBjaGVja01vdmUgPSBlID0+IHsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKCJGdXR1cmUgaW5kZXg6ICIgKyBlLmRyYWdnZWRDb250ZXh0LmZ1dHVyZUluZGV4KTsKICAgIH07CiAgICAvLyBjb25zdCBvbkRyYWdTdGFydCA9IChlOiBEcmFnRXZlbnQsIGlkOiBzdHJpbmcsIGluZGV4OiBudW1iZXIpID0+IHsKICAgIC8vICAgLy8g5Luj6KGo5q2j5Zyo5ouW5ou95YWD57SgCiAgICAvLyAgIGRyYWdEYXRhLmN1cnJlbnREcmFnZ2luZyA9IGlkCiAgICAvLyAgIGRyYWdEYXRhLmN1cnJlbnRJbmRleCA9IGluZGV4CiAgICAvLyAgIHN0YXJ0ID0gaW5kZXgKICAgIC8vIH0KICAgIC8vIGNvbnN0IG9uRHJhZ0VudGVyID0gKGU6IERyYWdFdmVudCwgaW5kZXg6IG51bWJlcikgPT4gewogICAgLy8gICAvLyBjb25zb2xlLmxvZygnZW50ZXInLCBpbmRleCk7CiAgICAvLyAgIC8vIGlmIChwcm9wcy5saXN0KSB7CiAgICAvLyAgIC8vICAgY29uc3QgYXJyID0gYXJyYXlNb3ZlSW1tdXRhYmxlKHByb3BzLmxpc3QsIGRyYWdEYXRhLmN1cnJlbnRJbmRleCwgaW5kZXgpCiAgICAvLyAgIC8vICAgLy8gY29uc29sZS5sb2coYXJyKTsKICAgIC8vICAgLy8gICBhcnJMaXN0LnZhbHVlID0gYXJyCiAgICAvLyAgIC8vIH0gCiAgICAvLyAgIC8vIGRyYWdEYXRhLmN1cnJlbnRJbmRleCA9IGluZGV4CiAgICAvLyAgIGVuZCA9IGluZGV4CiAgICAvLyB9CiAgICAvLyBjb25zdCBvbkRyb3AgPSAoZTogRHJhZ0V2ZW50KSA9PiB7CiAgICAvLyAgIC8vIGNvbnN0IGN1cnJlbnRFbGVtZW50ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQKICAgIC8vICAgY29uc3QgY3VycmVudEVsZW1lbnQgPSBnZXRQYXJlbnRFbGVtZW50KGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50LCAnYW50LWxpc3QtaXRlbScpCiAgICAvLyAgIGlmIChjdXJyZW50RWxlbWVudCAmJiBjdXJyZW50RWxlbWVudC5kYXRhc2V0LmluZGV4KSB7CiAgICAvLyAgICAgY29uc3QgbW92ZUluZGV4ID0gcGFyc2VJbnQoY3VycmVudEVsZW1lbnQuZGF0YXNldC5pbmRleCkKICAgIC8vICAgICBjb25zb2xlLmxvZyhtb3ZlSW5kZXgpOwogICAgLy8gICAgIGlmIChwcm9wcy5saXN0KSB7CiAgICAvLyAgICAgICBjb25zdCBhcnIgPSBhcnJheU1vdmVJbW11dGFibGUocHJvcHMubGlzdCwgZHJhZ0RhdGEuY3VycmVudEluZGV4LCBtb3ZlSW5kZXgpCiAgICAvLyAgICAgICAvLyBjb25zb2xlLmxvZyhhcnIpOwogICAgLy8gICAgICAgYXJyTGlzdC52YWx1ZSA9IGFycgogICAgLy8gICAgIH0KICAgIC8vICAgfQogICAgLy8gICBlbWl0KCdkcm9wJywgeyBzdGFydCwgZW5kIH0pCiAgICAvLyAgIGRyYWdEYXRhLmN1cnJlbnREcmFnZ2luZyA9ICcnCiAgICAvLyB9CiAgICAvLyBjb25zdCBvbmRyYWdvdmVyID0gKGU6IERyYWdFdmVudCkgPT4gewogICAgLy8gICBlLnByZXZlbnREZWZhdWx0KCkKICAgIC8vIH0KICAgIC8vIGNvbnN0IGlzQWN0aXZlID0gcmVmKGZhbHNlKQogICAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoaWQsIGtleSwgdmFsdWUpID0+IHsKICAgICAgY29uc29sZS5sb2coJ3ZhbHVlJywgdmFsdWUpOwogICAgICBjb25zdCBkYXRhID0gewogICAgICAgIGlkLAogICAgICAgIGtleSwKICAgICAgICB2YWx1ZSwKICAgICAgICBpc1Jvb3Q6IHRydWUKICAgICAgfTsKICAgICAgZW1pdCgnY2hhbmdlJywgZGF0YSk7CiAgICB9OwogICAgY29uc3QgaGFuZGxlU2VsZWN0ID0gaWQgPT4gewogICAgICBlbWl0KCdzZWxlY3QnLCBpZCk7CiAgICB9OwogICAgY29uc3QgaGFuZGxlQ2hhbmdlID0gaW5uZXJWYWx1ZSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCdpbm5lclZhbHVlJywgaW5uZXJWYWx1ZSk7CiAgICB9OwogICAgY29uc3QgX19yZXR1cm5lZF9fID0gewogICAgICBlbWl0LAogICAgICBkcmFnRGF0YSwKICAgICAgZHJhZ2dpbmcsCiAgICAgIGVuYWJsZWQsCiAgICAgIGNoZWNrTW92ZSwKICAgICAgaGFuZGxlQ2xpY2ssCiAgICAgIGhhbmRsZVNlbGVjdCwKICAgICAgaGFuZGxlQ2hhbmdlLAogICAgICBnZXQgRXllT3V0bGluZWQoKSB7CiAgICAgICAgcmV0dXJuIEV5ZU91dGxpbmVkOwogICAgICB9LAogICAgICBnZXQgRXllSW52aXNpYmxlT3V0bGluZWQoKSB7CiAgICAgICAgcmV0dXJuIEV5ZUludmlzaWJsZU91dGxpbmVkOwogICAgICB9LAogICAgICBnZXQgTG9ja091dGxpbmVkKCkgewogICAgICAgIHJldHVybiBMb2NrT3V0bGluZWQ7CiAgICAgIH0sCiAgICAgIGdldCBVbmxvY2tPdXRsaW5lZCgpIHsKICAgICAgICByZXR1cm4gVW5sb2NrT3V0bGluZWQ7CiAgICAgIH0sCiAgICAgIGdldCBEcmFnT3V0bGluZWQoKSB7CiAgICAgICAgcmV0dXJuIERyYWdPdXRsaW5lZDsKICAgICAgfSwKICAgICAgSW5saW5lRWRpdCwKICAgICAgZ2V0IGRyYWdnYWJsZSgpIHsKICAgICAgICByZXR1cm4gZHJhZ2dhYmxlOwogICAgICB9CiAgICB9OwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fcmV0dXJuZWRfXywgJ19faXNTY3JpcHRTZXR1cCcsIHsKICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgIHZhbHVlOiB0cnVlCiAgICB9KTsKICAgIHJldHVybiBfX3JldHVybmVkX187CiAgfQp9KTs="},{"version":3,"mappings":"AAAA,SAASA,eAAe,IAAIC,gBAAgB,QAAQ,KAAK;AAEzD,SAASC,QAAQ,EAAYC,GAAG,QAAQ,KAAK;AAC7C,SAASC,WAAW,EAAEC,oBAAoB,EAAEC,YAAY,EAAEC,cAAc,EAAEC,YAAY,QAAQ,uBAAuB;AACrH,OAAOC,UAAU,MAAM,kBAAkB;AACzC;AACA;AACA;AACA,OAAOC,SAAS,MAAM,cAAc;AAGpC,eAAe,aAAaT,gBAAgB,CAAC;EAC3CU,MAAM,EAAE,WAAW;EACnBC,KAAK,EAAE;IACPC,IAAI,EAAE;MACJC,IAAI,EAAEC;KACP;IACDC,UAAU,EAAE;MACVF,IAAI,EAAEG;;GAET;EACCC,KAAK,EAAE,CAAC,QAAQ,EAAE,QAAQ,EAAE,MAAM,CAAC;EACnCC,KAAK,CAACC,OAAO,EAAE;IAAEC,MAAM;IAAEC;EAAI,CAAE;IAC/BD,MAAM,EAAE;IAIV;IACA;IACA;IAEA,MAAME,QAAQ,GAAGrB,QAAQ,CAAC;MACxBsB,eAAe,EAAE,EAAE;MACnBC,YAAY,EAAE,CAAC;KAChB,CAAC;IACF,MAAMC,QAAQ,GAAGvB,GAAG,CAAC,KAAK,CAAC;IAC3B,MAAMwB,OAAO,GAAGxB,GAAG,CAAC,IAAI,CAAC;IACzB;IACA;IACA;IACA;IACA;IACA,MAAMyB,SAAS,GAAIC,CAAC,IAAI;MACtBC,MAAM,CAACC,OAAO,CAACC,GAAG,CAAC,gBAAgB,GAAGH,CAAC,CAACI,cAAc,CAACC,WAAW,CAAC;IACrE,CAAC;IACD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA,MAAMC,WAAW,GAAG,CAACC,EAAU,EAAEC,GAAW,EAAEC,KAAc,KAAI;MAC9DP,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEM,KAAK,CAAC;MAC3B,MAAMC,IAAI,GAAG;QACXH,EAAE;QACFC,GAAG;QACHC,KAAK;QACLE,MAAM,EAAE;OACT;MACDlB,IAAI,CAAC,QAAQ,EAAEiB,IAAI,CAAC;IACtB,CAAC;IACD,MAAME,YAAY,GAAIL,EAAU,IAAI;MAClCd,IAAI,CAAC,QAAQ,EAAEc,EAAE,CAAC;IACpB,CAAC;IACD,MAAMM,YAAY,GAAIC,UAAkB,IAAI;MAC1CZ,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEW,UAAU,CAAC;IAEvC,CAAC;IAGD,MAAMC,YAAY,GAAG;MAAEtB,IAAI;MAAEC,QAAQ;MAAEG,QAAQ;MAAEC,OAAO;MAAEC,SAAS;MAAEO,WAAW;MAAEM,YAAY;MAAEC,YAAY;MAAE,IAAItC,WAAW;QAAK,OAAOA,WAAW;MAAC,CAAC;MAAE,IAAIC,oBAAoB;QAAK,OAAOA,oBAAoB;MAAC,CAAC;MAAE,IAAIC,YAAY;QAAK,OAAOA,YAAY;MAAC,CAAC;MAAE,IAAIC,cAAc;QAAK,OAAOA,cAAc;MAAC,CAAC;MAAE,IAAIC,YAAY;QAAK,OAAOA,YAAY;MAAC,CAAC;MAAEC,UAAU;MAAE,IAAIC,SAAS;QAAK,OAAOA,SAAS;MAAC;IAAC,CAAE;IAC9YmC,MAAM,CAACC,cAAc,CAACF,YAAY,EAAE,iBAAiB,EAAE;MAAEG,UAAU,EAAE,KAAK;MAAET,KAAK,EAAE;IAAI,CAAE,CAAC;IAC1F,OAAOM,YAAY;EACnB;CAEC,CAAC","names":["defineComponent","_defineComponent","reactive","ref","EyeOutlined","EyeInvisibleOutlined","LockOutlined","UnlockOutlined","DragOutlined","InlineEdit","draggable","__name","props","list","type","Array","selectedId","String","emits","setup","__props","expose","emit","dragData","currentDragging","currentIndex","dragging","enabled","checkMove","e","window","console","log","draggedContext","futureIndex","handleClick","id","key","value","data","isRoot","handleSelect","handleChange","innerValue","__returned__","Object","defineProperty","enumerable"],"sourceRoot":"","sources":["D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\vue3-project\\lego\\src\\components\\LayerList.vue?vue&type=script&setup=true&lang=ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { ComponentData } from '../store/editor'\r\nimport { reactive, PropType, ref } from 'vue'\r\nimport { EyeOutlined, EyeInvisibleOutlined, LockOutlined, UnlockOutlined, DragOutlined } from '@ant-design/icons-vue'\r\nimport InlineEdit from './InlineEdit.vue'\r\n// import { getParentElement } from '../helper'\r\n// // import arrayMove from 'array-move'\r\n// import {arrayMoveImmutable} from 'array-move'\r\nimport draggable from \"vuedraggable\"\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'LayerList',\n  props: {\r\n  list: {\r\n    type: Array as PropType<ComponentData[]>\r\n  },\r\n  selectedId: {\r\n    type: String\r\n  }\r\n},\n  emits: ['select', 'change', 'drop'],\n  setup(__props, { expose, emit }) {\n  expose();\n\r\n\r\n\r\n// const arrList = ref(props.list)\r\n// let start = -1\r\n// let end = -1\r\n\r\nconst dragData = reactive({\r\n  currentDragging: '',\r\n  currentIndex: -1\r\n})\r\nconst dragging = ref(false)\r\nconst enabled = ref(true)\r\n// const list = ref([\r\n//   { name: \"John\", id: 0 },\r\n//   { name: \"Joao\", id: 1 },\r\n//   { name: \"Jean\", id: 2 }\r\n// ])\r\nconst checkMove = (e) => {\r\n  window.console.log(\"Future index: \" + e.draggedContext.futureIndex);\r\n}\r\n// const onDragStart = (e: DragEvent, id: string, index: number) => {\r\n//   // 代表正在拖拽元素\r\n//   dragData.currentDragging = id\r\n//   dragData.currentIndex = index\r\n//   start = index\r\n// }\r\n// const onDragEnter = (e: DragEvent, index: number) => {\r\n//   // console.log('enter', index);\r\n//   // if (props.list) {\r\n//   //   const arr = arrayMoveImmutable(props.list, dragData.currentIndex, index)\r\n//   //   // console.log(arr);\r\n//   //   arrList.value = arr\r\n//   // } \r\n//   // dragData.currentIndex = index\r\n//   end = index\r\n// }\r\n// const onDrop = (e: DragEvent) => {\r\n//   // const currentElement = e.target as HTMLElement\r\n//   const currentElement = getParentElement(e.target as HTMLElement, 'ant-list-item')\r\n//   if (currentElement && currentElement.dataset.index) {\r\n//     const moveIndex = parseInt(currentElement.dataset.index)\r\n//     console.log(moveIndex);\r\n//     if (props.list) {\r\n//       const arr = arrayMoveImmutable(props.list, dragData.currentIndex, moveIndex)\r\n//       // console.log(arr);\r\n//       arrList.value = arr\r\n//     }\r\n//   }\r\n//   emit('drop', { start, end })\r\n//   dragData.currentDragging = ''\r\n// }\r\n// const ondragover = (e: DragEvent) => {\r\n//   e.preventDefault()\r\n// }\r\n\r\n// const isActive = ref(false)\r\nconst handleClick = (id: string, key: string, value: boolean) => {\r\n  console.log('value', value);\r\n  const data = {\r\n    id,\r\n    key,\r\n    value,\r\n    isRoot: true\r\n  }\r\n  emit('change', data)\r\n}\r\nconst handleSelect = (id: string) => {\r\n  emit('select', id)\r\n}\r\nconst handleChange = (innerValue: string) => {\r\n  console.log('innerValue', innerValue);\r\n  \r\n}\r\n\r\n\nconst __returned__ = { emit, dragData, dragging, enabled, checkMove, handleClick, handleSelect, handleChange, get EyeOutlined() { return EyeOutlined }, get EyeInvisibleOutlined() { return EyeInvisibleOutlined }, get LockOutlined() { return LockOutlined }, get UnlockOutlined() { return UnlockOutlined }, get DragOutlined() { return DragOutlined }, InlineEdit, get draggable() { return draggable } }\nObject.defineProperty(__returned__, '__isScriptSetup', { enumerable: false, value: true })\nreturn __returned__\n}\n\n})"]}]}