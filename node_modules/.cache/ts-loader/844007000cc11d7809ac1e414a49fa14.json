{"remainingRequest":"D:\\vue3-project\\lego\\node_modules\\babel-loader\\lib\\index.js!D:\\vue3-project\\lego\\node_modules\\ts-loader\\index.js??ref--15-2!D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\vue3-project\\lego\\src\\views\\Editor.vue?vue&type=script&setup=true&lang=ts","dependencies":[{"path":"D:\\vue3-project\\lego\\src\\views\\Editor.vue","mtime":1679420151582},{"path":"D:\\vue3-project\\lego\\babel.config.js","mtime":1679070494323},{"path":"D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674816758787},{"path":"D:\\vue3-project\\lego\\node_modules\\babel-loader\\lib\\index.js","mtime":1674816767357},{"path":"D:\\vue3-project\\lego\\node_modules\\ts-loader\\index.js","mtime":1674816768512},{"path":"D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674816758787},{"path":"D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1674816769351}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB3YXRjaCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBMVGV4dCBmcm9tICcuLi9jb21wb25lbnRzL0xUZXh0LnZ1ZSc7CmltcG9ydCBMSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9MSW1hZ2UudnVlJzsKaW1wb3J0IENvbXBvbmVudExpc3QgZnJvbSAnLi4vY29tcG9uZW50cy9Db21wb25lbnRMaXN0LnZ1ZSc7CmltcG9ydCBQcm9wc1RhYmxlIGZyb20gJy4uL2NvbXBvbmVudHMvUHJvcHNUYWJsZS52dWUnOwovLyBpbXBvcnQgUHJvcHNUYWJsZSBmcm9tICcuLi9jb21wb25lbnRzL1Byb3BzVGFibGUnCmltcG9ydCB7IGNvbXB1dGVkLCByZWYgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgRWRpdG9yV3JhcHBlciBmcm9tICcuLi9jb21wb25lbnRzL0VkaXRvcldyYXBwZXIudnVlJzsKaW1wb3J0IFN0eWxlVXBsb2FkZXIgZnJvbSAnLi4vY29tcG9uZW50cy9TdHlsZVVwbG9hZGVyLnZ1ZSc7CmltcG9ydCBJbWFnZVByb2Nlc3NlciBmcm9tICcuLi9jb21wb25lbnRzL0ltYWdlUHJvY2Vzc2VyLnZ1ZSc7CmltcG9ydCBMYXllckxpc3QgZnJvbSAnLi4vY29tcG9uZW50cy9MYXllckxpc3QudnVlJzsKaW1wb3J0IEVkaXRHcm91cCBmcm9tICcuLi9jb21wb25lbnRzL0VkaXRHcm91cC52dWUnOwpleHBvcnQgZGVmYXVsdCAvKiNfX1BVUkVfXyovX2RlZmluZUNvbXBvbmVudCh7CiAgX19uYW1lOiAnRWRpdG9yJywKICBzZXR1cChfX3Byb3BzLCB7CiAgICBleHBvc2UKICB9KSB7CiAgICBjb25zdCBhY3RpdmVQYW5lbCA9IHJlZignY29tcG9uZW50Jyk7CiAgICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKCk7CiAgICBjb25zdCBkZWZhdWx0Q29tcG9uZW50ID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUuc3RhdGUuZWRpdG9yLmNvbXBvbmVudHNbMF0pOwogICAgLy8gY29uc3QgZGVmYXVsdENvbXBvbmVudCA9IGNvbXB1dGVkKCgpID0+IHN0b3JlLmdldHRlcnMuZ2V0RGVmYXVsdEVsZW1lbnQpCiAgICAvLyDnlLvluIPkuK3lop7liqDnmoTmqKHmnb8KICAgIC8vIOiuoeeul+WxnuaAp+mYsuatouaVsOaNruWPmOinhuWbvuS4jeWPmOeahOaDheWGtQogICAgLyoqDQogICAgICog5pWw5o2u5L+u5pS577yM6Ieq5Yqo5pu05paw6KeG5Zu+77yM5a+55q+U5paw5pendm5vZGXvvIzov5vooYxkaWZmDQogICAgICovCiAgICBjb25zdCBjb21wb25lbnRzID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUuc3RhdGUuZWRpdG9yLmNvbXBvbmVudHMpOwogICAgd2F0Y2goKCkgPT4gY29tcG9uZW50cywgKHZhbCwgbmV3dmFsKSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCd2YWwnLCB2YWwpOwogICAgICBjb25zb2xlLmxvZygnbmV3dmFsJywgbmV3dmFsKTsKICAgIH0sIHsKICAgICAgLyoqIOa3seW6puebkeWQrOmAgueUqOS6juW8leeUqOexu+WeiyAqLwogICAgICBkZWVwOiB0cnVlCiAgICB9KTsKICAgIGNvbnN0IHBhZ2UgPSBjb21wdXRlZCgoKSA9PiBzdG9yZS5zdGF0ZS5lZGl0b3IucGFnZSk7CiAgICAvLyBjb25zdCBjdXJyZW50RWxlbWVudCA9IHN0b3JlLmdldHRlcnMuZ2V0Q3VycmVudEVsZW1lbnQgPz8gZGVmYXVsdENvbXBvbmVudC52YWx1ZQogICAgLyoqDQogICAgICog5rOo5oSP77yaMS5jb25zdOS4jeiDveeUqOadpeWumuS5iSDlkKvmnIk/P+eahOihqOi+vuW8jw0KICAgICAqICAgICAgIDIudnVleOeahGdldHRlcnPnlKjliLDml7bmiY3kvJrph43mlrDorqHnrpfmiJbkvb/nlKjnvJPlrZgNCiAgICAgKi8KICAgIGNvbnN0IGN1cnJlbnRFbGVtZW50ID0gY29tcHV0ZWQoKCkgPT4gewogICAgICB2YXIgX3N0b3JlJGdldHRlcnMkZ2V0Q3VyOwogICAgICByZXR1cm4gKF9zdG9yZSRnZXR0ZXJzJGdldEN1ciA9IHN0b3JlLmdldHRlcnMuZ2V0Q3VycmVudEVsZW1lbnQpICE9PSBudWxsICYmIF9zdG9yZSRnZXR0ZXJzJGdldEN1ciAhPT0gdm9pZCAwID8gX3N0b3JlJGdldHRlcnMkZ2V0Q3VyIDogZGVmYXVsdENvbXBvbmVudC52YWx1ZTsKICAgIH0pOwogICAgY29uc3QgYWRkSXRlbSA9IHByb3BzID0+IHsKICAgICAgc3RvcmUuY29tbWl0KCdhZGRDb21wb25lbnQnLCBwcm9wcyk7CiAgICB9OwogICAgY29uc3Qgc2V0QWN0aXZlID0gaWQgPT4gewogICAgICBzdG9yZS5jb21taXQoJ3NldEFjdGl2ZScsIGlkKTsKICAgIH07CiAgICAvLyDpu5jorqTosIPnlKjkuIDmrKEKICAgIHNldEFjdGl2ZShjb21wb25lbnRzLnZhbHVlWzBdLmlkKTsKICAgIGNvbnN0IG9uRGVsZXRlQ2xpY2sgPSBwcm9wcyA9PiB7CiAgICAgIHN0b3JlLmNvbW1pdCgnZGVsZXRlQ29tcG9uZW50JywgcHJvcHMpOwogICAgfTsKICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IGUgPT4gewogICAgICBjb25zb2xlLmxvZygn5LqL5Lu255uR5ZCsJywgZSk7CiAgICAgIHN0b3JlLmNvbW1pdCgndXBkYXRlQ29tcG9uZW50JywgZSk7CiAgICB9OwogICAgY29uc3QgdXBkYXRlUG9zaXRpb24gPSBwb3NpdGlvbiA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCdwb3NpdGlvbicsIHBvc2l0aW9uKTsKICAgICAgY29uc3QgewogICAgICAgIGxlZnQsCiAgICAgICAgdG9wLAogICAgICAgIGlkCiAgICAgIH0gPSBwb3NpdGlvbjsKICAgICAgc3RvcmUuY29tbWl0KCd1cGRhdGVDb21wb25lbnQnLCB7CiAgICAgICAga2V5OiAnbGVmdCcsCiAgICAgICAgdmFsdWU6IGxlZnQsCiAgICAgICAgaWQKICAgICAgfSk7CiAgICAgIHN0b3JlLmNvbW1pdCgndXBkYXRlQ29tcG9uZW50JywgewogICAgICAgIGtleTogJ3RvcCcsCiAgICAgICAgdmFsdWU6IHRvcCwKICAgICAgICBpZAogICAgICB9KTsKICAgIH07CiAgICAvLyBjb25zdCBoYW5kbGVMb2NrID0gKGRhdGE6IHsgaWQ6IHN0cmluZzsga2V5OiBzdHJpbmc7IHZhbHVlOiBib29sZWFuOyBpc1Jvb3Q6IGJvb2xlYW59KSA9PiB7CiAgICAvLyAgIHN0b3JlLmNvbW1pdCgndXBkYXRlQ29tcG9uZW50JywgZGF0YSkKICAgIC8vIH0KICAgIGV4cG9zZSh7CiAgICAgIExUZXh0CiAgICB9KTsKICAgIGNvbnN0IF9fcmV0dXJuZWRfXyA9IHsKICAgICAgYWN0aXZlUGFuZWwsCiAgICAgIHN0b3JlLAogICAgICBkZWZhdWx0Q29tcG9uZW50LAogICAgICBjb21wb25lbnRzLAogICAgICBwYWdlLAogICAgICBjdXJyZW50RWxlbWVudCwKICAgICAgYWRkSXRlbSwKICAgICAgc2V0QWN0aXZlLAogICAgICBvbkRlbGV0ZUNsaWNrLAogICAgICBoYW5kbGVDaGFuZ2UsCiAgICAgIHVwZGF0ZVBvc2l0aW9uLAogICAgICBMVGV4dCwKICAgICAgTEltYWdlLAogICAgICBDb21wb25lbnRMaXN0LAogICAgICBQcm9wc1RhYmxlLAogICAgICBFZGl0b3JXcmFwcGVyLAogICAgICBTdHlsZVVwbG9hZGVyLAogICAgICBJbWFnZVByb2Nlc3NlciwKICAgICAgTGF5ZXJMaXN0LAogICAgICBFZGl0R3JvdXAKICAgIH07CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX19yZXR1cm5lZF9fLCAnX19pc1NjcmlwdFNldHVwJywgewogICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgdmFsdWU6IHRydWUKICAgIH0pOwogICAgcmV0dXJuIF9fcmV0dXJuZWRfXzsKICB9Cn0pOw=="},{"version":3,"mappings":"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","names":["defineComponent","_defineComponent","watch","LText","LImage","ComponentList","PropsTable","computed","ref","useStore","EditorWrapper","StyleUploader","ImageProcesser","LayerList","EditGroup","__name","setup","__props","expose","activePanel","store","defaultComponent","state","editor","components","val","newval","console","log","deep","page","currentElement","getters","getCurrentElement","value","addItem","props","commit","setActive","id","onDeleteClick","handleChange","e","updatePosition","position","left","top","key","__returned__","Object","defineProperty","enumerable"],"sourceRoot":"","sources":["D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\vue3-project\\lego\\src\\views\\Editor.vue?vue&type=script&setup=true&lang=ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport {watch} from 'vue'\r\nimport LText from '../components/LText.vue'\r\nimport LImage from '../components/LImage.vue'\r\nimport ComponentList from '../components/ComponentList.vue'\r\nimport PropsTable from '../components/PropsTable.vue'\r\n// import PropsTable from '../components/PropsTable'\r\nimport { computed, ref } from 'vue'\r\nimport { useStore } from 'vuex'\r\nimport { GlobalDataProps } from '../store/index'\r\nimport EditorWrapper from '../components/EditorWrapper.vue'\r\nimport { ComponentData } from '../store/editor'\r\nimport StyleUploader from '../components/StyleUploader.vue'\r\nimport ImageProcesser from '../components/ImageProcesser.vue'\r\nimport LayerList from '../components/LayerList.vue'\r\nimport EditGroup from '../components/EditGroup.vue'\r\n\r\nexport type TabType = 'component' | 'layer' | 'page'\r\nexport type activeType = 'component' | 'layer'\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'Editor',\n  setup(__props, { expose }) {\n\r\nconst activePanel = ref<activeType>('component')\r\nconst store = useStore<GlobalDataProps>()\r\nconst defaultComponent = computed(() => store.state.editor.components[0])\r\n// const defaultComponent = computed(() => store.getters.getDefaultElement)\r\n\r\n// 画布中增加的模板\r\n// 计算属性防止数据变视图不变的情况\r\n/**\r\n * 数据修改，自动更新视图，对比新旧vnode，进行diff\r\n */\r\nconst components = computed(() => store.state.editor.components)\r\nwatch(\r\n  () => components,\r\n  (val, newval) => {\r\n    console.log('val', val)\r\n    console.log('newval', newval)\r\n  },\r\n  {\r\n    /** 深度监听适用于引用类型 */\r\n    deep: true\r\n  }\r\n)\r\nconst page = computed(() => store.state.editor.page)\r\n// const currentElement = store.getters.getCurrentElement ?? defaultComponent.value\r\n/**\r\n * 注意：1.const不能用来定义 含有??的表达式\r\n *       2.vuex的getters用到时才会重新计算或使用缓存\r\n */\r\nconst currentElement = computed(() => {\r\n  return store.getters.getCurrentElement ?? defaultComponent.value\r\n})\r\n\r\nconst addItem = (props: any) => {\r\n  store.commit('addComponent', props)\r\n}\r\n\r\nconst setActive = (id: string) => {\r\n  store.commit('setActive', id)\r\n}\r\n// 默认调用一次\r\nsetActive(components.value[0].id)\r\n\r\nconst onDeleteClick = (props: any) => {\r\n  store.commit('deleteComponent', props)\r\n}\r\n\r\nconst handleChange = (e: any) => {\r\n  console.log('事件监听', e);\r\n  store.commit('updateComponent', e)\r\n}\r\n\r\nconst updatePosition = (position: { top: string; left: string; id: string }) => {\r\n  console.log('position', position)\r\n  const { left, top, id } = position\r\n  store.commit('updateComponent', { key: 'left', value: left, id })\r\n  store.commit('updateComponent', { key: 'top', value: top, id })\r\n}\r\n\r\n// const handleLock = (data: { id: string; key: string; value: boolean; isRoot: boolean}) => {\r\n//   store.commit('updateComponent', data)\r\n// }\r\n\r\nexpose({\r\n  LText\r\n})\r\n\nconst __returned__ = { activePanel, store, defaultComponent, components, page, currentElement, addItem, setActive, onDeleteClick, handleChange, updatePosition, LText, LImage, ComponentList, PropsTable, EditorWrapper, StyleUploader, ImageProcesser, LayerList, EditGroup }\nObject.defineProperty(__returned__, '__isScriptSetup', { enumerable: false, value: true })\nreturn __returned__\n}\n\n})"]}]}