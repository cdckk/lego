{"remainingRequest":"D:\\vue3-project\\lego\\node_modules\\babel-loader\\lib\\index.js!D:\\vue3-project\\lego\\node_modules\\ts-loader\\index.js??ref--15-2!D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\vue3-project\\lego\\src\\components\\EditorWrapper.vue?vue&type=script&setup=true&lang=ts","dependencies":[{"path":"D:\\vue3-project\\lego\\src\\components\\EditorWrapper.vue","mtime":1679634020744},{"path":"D:\\vue3-project\\lego\\babel.config.js","mtime":1679070494323},{"path":"D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674816758787},{"path":"D:\\vue3-project\\lego\\node_modules\\babel-loader\\lib\\index.js","mtime":1674816767357},{"path":"D:\\vue3-project\\lego\\node_modules\\ts-loader\\index.js","mtime":1674816768512},{"path":"D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674816758787},{"path":"D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1674816769351}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyBjb21wdXRlZCwgcmVmLCBuZXh0VGljayB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHBpY2sgfSBmcm9tICdsb2Rhc2gtZXMnOwpleHBvcnQgZGVmYXVsdCAvKiNfX1BVUkVfXyovX2RlZmluZUNvbXBvbmVudCh7CiAgX19uYW1lOiAnRWRpdG9yV3JhcHBlcicsCiAgcHJvcHM6IHsKICAgIGlkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBhY3RpdmU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBwcm9wczogewogICAgICB0eXBlOiBPYmplY3QKICAgIH0KICB9LAogIGVtaXRzOiBbJ3NldEFjdGl2ZScsICd1cGRhdGUtcG9zaXRpb24nLCAndXBkYXRlLXdpZHRoLWhlaWdodCddLAogIHNldHVwKF9fcHJvcHMsIHsKICAgIGV4cG9zZSwKICAgIGVtaXQKICB9KSB7CiAgICBleHBvc2UoKTsKICAgIGNvbnN0IHByb3BzID0gX19wcm9wczsKICAgIC8vIOebkuWGhem8oOagh+WIsOebkuWtkOi+ueahhueahOi3neemuwogICAgY29uc3QgZ2FwID0gewogICAgICB4OiAwLAogICAgICB5OiAwCiAgICB9OwogICAgY29uc3QgaXNBY3RpdmUgPSByZWYoZmFsc2UpOwogICAgbGV0IGlzTW92aW5nID0gZmFsc2U7CiAgICBjb25zdCBlZGl0b3JXcmFwcGVyID0gcmVmKG51bGwpOwogICAgY29uc3Qgd3JhcHBlclN0eWxlID0gY29tcHV0ZWQoKCkgPT4gewogICAgICByZXR1cm4gcGljayhwcm9wcy5wcm9wcywgWyd0b3AnLCAnbGVmdCcsICd3aWR0aCcsICdoZWlnaHQnXSk7CiAgICB9KTsKICAgIGNvbnN0IGNhbGNNb3ZlUG9zaXRpb24gPSBlID0+IHsKICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcy1hcmVhJyk7CiAgICAgIGNvbnN0IGxlZnQgPSBlLmNsaWVudFggLSBnYXAueCAtIGNvbnRhaW5lci5vZmZzZXRMZWZ0OwogICAgICBjb25zdCB0b3AgPSBlLmNsaWVudFkgLSBnYXAueSAtIGNvbnRhaW5lci5vZmZzZXRUb3A7CiAgICAgIHJldHVybiB7CiAgICAgICAgbGVmdCwKICAgICAgICB0b3AKICAgICAgfTsKICAgIH07CiAgICAvLyDnp7vliqjlhYPntKDkvY3nva4KICAgIGNvbnN0IHN0YXJ0TW92ZSA9IGUgPT4gewogICAgICBpc01vdmluZyA9IHRydWU7CiAgICAgIGNvbnN0IGN1cnJlbnRFbGVtZW50ID0gZWRpdG9yV3JhcHBlci52YWx1ZTsKICAgICAgaWYgKGVkaXRvcldyYXBwZXIudmFsdWUpIHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBsZWZ0LAogICAgICAgICAgdG9wCiAgICAgICAgfSA9IGVkaXRvcldyYXBwZXIudmFsdWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgZ2FwLnggPSBlLmNsaWVudFggLSBsZWZ0OwogICAgICAgIC8vIOm8oOagh+WIsOinhuWPo+eahOi3neemu2UuY2xpZW50WAogICAgICAgIGdhcC55ID0gZS5jbGllbnRZIC0gdG9wOwogICAgICB9CiAgICAgIGNvbnN0IGhhbmRsZU1vdmUgPSBlID0+IHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBsZWZ0LAogICAgICAgICAgdG9wCiAgICAgICAgfSA9IGNhbGNNb3ZlUG9zaXRpb24oZSk7CiAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50KSB7CiAgICAgICAgICBjdXJyZW50RWxlbWVudC5zdHlsZS50b3AgPSB0b3AgKyAncHgnOwogICAgICAgICAgY3VycmVudEVsZW1lbnQuc3R5bGUubGVmdCA9IGxlZnQgKyAncHgnOwogICAgICAgIH0KICAgICAgfTsKICAgICAgY29uc3QgaGFuZGxlTW91c2VVcCA9IGUgPT4gewogICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU1vdmUpOwogICAgICAgIGlmIChpc01vdmluZykgewogICAgICAgICAgY29uc3QgewogICAgICAgICAgICB0b3AsCiAgICAgICAgICAgIGxlZnQKICAgICAgICAgIH0gPSBjYWxjTW92ZVBvc2l0aW9uKGUpOwogICAgICAgICAgZW1pdCgndXBkYXRlLXBvc2l0aW9uJywgewogICAgICAgICAgICB0b3AsCiAgICAgICAgICAgIGxlZnQsCiAgICAgICAgICAgIGlkOiBwcm9wcy5pZAogICAgICAgICAgfSk7CiAgICAgICAgICBpc01vdmluZyA9IGZhbHNlOwogICAgICAgICAgbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlTW91c2VVcCk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU1vdmUpOwogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaGFuZGxlTW91c2VVcCk7CiAgICB9OwogICAgLy8g5ouW5ou95YWD57Sg5bC65a+45aSn5bCPIOi/meS4quaWueazlemcgOimgeWkjeeUqAogICAgY29uc3QgY2FsY1Jlc2l6ZSA9IChlLCBkaXJlY3Rpb24sIHBvc2l0aW9ucykgPT4gewogICAgICBjb25zdCB7CiAgICAgICAgY2xpZW50WCwKICAgICAgICBjbGllbnRZCiAgICAgIH0gPSBlOwogICAgICBjb25zdCB7CiAgICAgICAgbGVmdCwKICAgICAgICByaWdodCwKICAgICAgICB0b3AsCiAgICAgICAgYm90dG9tCiAgICAgIH0gPSBwb3NpdGlvbnM7CiAgICAgIGNvbnN0IGVkaXRvckNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMtYXJlYScpOwogICAgICAvLyDpl67popjvvJrkuLrku4DkuYhnZXRFbGVtZW50c0J5Q2xhc3NOYW1l5ou/5LiN5Yiwb2Zmc2V0TGVmdAogICAgICAvLyBjb25zdCBjb250YWluZXIgPSBlZGl0b3JXcmFwcGVyLnZhbHVlCiAgICAgIGlmIChlZGl0b3JDb250YWluZXIpIHsKICAgICAgICBsZXQgd2lkdGggPSAtMTsKICAgICAgICBsZXQgaGVpZ2h0ID0gLTE7CiAgICAgICAgbGV0IHRvcFZhbCA9IDA7CiAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHsKICAgICAgICAgIGNhc2UgJ3RvcC1sZWZ0JzoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlICd0b3AtcmlnaHQnOgogICAgICAgICAgICB3aWR0aCA9IGNsaWVudFggLSBsZWZ0OwogICAgICAgICAgICBoZWlnaHQgPSBib3R0b20gLSBjbGllbnRZOwogICAgICAgICAgICB0b3BWYWwgPSBjbGllbnRZICsgZWRpdG9yQ29udGFpbmVyLm9mZnNldFRvcDsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICB3aWR0aCwKICAgICAgICAgICAgICBoZWlnaHQsCiAgICAgICAgICAgICAgdG9wVmFsCiAgICAgICAgICAgIH07CiAgICAgICAgICBjYXNlICdib3R0b20tbGVmdCc6CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAnYm90dG9tLXJpZ2h0JzoKICAgICAgICAgICAgd2lkdGggPSBjbGllbnRYIC0gbGVmdDsKICAgICAgICAgICAgaGVpZ2h0ID0gY2xpZW50WSAtIHRvcDsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICB3aWR0aCwKICAgICAgICAgICAgICBoZWlnaHQKICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgLy8gcmV0dXJuIHsKICAgICAgICAvLyAgIHdpZHRoLAogICAgICAgIC8vICAgaGVpZ2h0LAogICAgICAgIC8vICAgdG9wVmFsCiAgICAgICAgLy8gfQogICAgICB9CiAgICB9OwoKICAgIGNvbnN0IHN0YXJ0UmVzaXplID0gKGUsIGRpcmVjdGlvbikgPT4gewogICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdG9yLXdyYXBwZXInKTsKICAgICAgY29uc3QgewogICAgICAgIGxlZnQsCiAgICAgICAgcmlnaHQsCiAgICAgICAgdG9wLAogICAgICAgIGJvdHRvbQogICAgICB9ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICBjb25zdCBoYW5kbGVNb3ZlID0gZSA9PiB7CiAgICAgICAgY29uc3QgZGF0YSA9IGNhbGNSZXNpemUoZSwgZGlyZWN0aW9uLCB7CiAgICAgICAgICBsZWZ0LAogICAgICAgICAgcmlnaHQsCiAgICAgICAgICB0b3AsCiAgICAgICAgICBib3R0b20KICAgICAgICB9KTsKICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgY29uc3QgbmV3V2lkdGggPSBkYXRhLndpZHRoICsgJ3B4JzsKICAgICAgICAgIGNvbnN0IG5ld0hlaWdodCA9IGRhdGEuaGVpZ2h0ICsgJ3B4JzsKICAgICAgICAgIGNvbnN0IG5ld1RvcCA9IGRhdGEudG9wVmFsICsgJ3B4JzsKICAgICAgICAgIGNvbnNvbGUubG9nKG5ld1dpZHRoLCBuZXdIZWlnaHQpOwogICAgICAgICAgLy8gY29udGFpbmVyLnN0eWxlLndpZHRoID0gbmV3V2lkdGggKyAncHgnCiAgICAgICAgICAvLyBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gbmV3SGVpZ2h0ICsgJ3B4JwogICAgICAgICAgLy8gY29udGFpbmVyLnN0eWxlLnRvcCA9IG5ld1RvcCArICdweCcKICAgICAgICAgIGVtaXQoJ3VwZGF0ZS13aWR0aC1oZWlnaHQnLCB7CiAgICAgICAgICAgIHdpZHRoOiBuZXdXaWR0aCwKICAgICAgICAgICAgaGVpZ2h0OiBuZXdIZWlnaHQsCiAgICAgICAgICAgIHRvcDogbmV3VG9wLAogICAgICAgICAgICBpZDogcHJvcHMuaWQKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfTsKICAgICAgY29uc3QgaGFuZGxlTW91c2VVcCA9ICgpID0+IHsKICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBoYW5kbGVNb3ZlKTsKICAgICAgICBuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc3RhcnRNb3ZlKTsKICAgICAgICB9KTsKICAgICAgfTsKICAgICAgYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW92ZSk7CiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwKTsKICAgIH07CiAgICBjb25zdCBvbkl0ZW1DbGljayA9ICgpID0+IHsKICAgICAgZW1pdCgnc2V0QWN0aXZlJywgcHJvcHMuaWQpOwogICAgICBpc0FjdGl2ZS52YWx1ZSA9IHRydWU7CiAgICB9OwogICAgY29uc3QgX19yZXR1cm5lZF9fID0gewogICAgICBwcm9wcywKICAgICAgZW1pdCwKICAgICAgZ2FwLAogICAgICBpc0FjdGl2ZSwKICAgICAgZ2V0IGlzTW92aW5nKCkgewogICAgICAgIHJldHVybiBpc01vdmluZzsKICAgICAgfSwKICAgICAgc2V0IGlzTW92aW5nKHYpIHsKICAgICAgICBpc01vdmluZyA9IHY7CiAgICAgIH0sCiAgICAgIGVkaXRvcldyYXBwZXIsCiAgICAgIHdyYXBwZXJTdHlsZSwKICAgICAgY2FsY01vdmVQb3NpdGlvbiwKICAgICAgc3RhcnRNb3ZlLAogICAgICBjYWxjUmVzaXplLAogICAgICBzdGFydFJlc2l6ZSwKICAgICAgb25JdGVtQ2xpY2sKICAgIH07CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX19yZXR1cm5lZF9fLCAnX19pc1NjcmlwdFNldHVwJywgewogICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgdmFsdWU6IHRydWUKICAgIH0pOwogICAgcmV0dXJuIF9fcmV0dXJuZWRfXzsKICB9Cn0pOw=="},{"version":3,"mappings":"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","names":["defineComponent","_defineComponent","computed","ref","nextTick","pick","__name","props","id","type","String","required","active","Boolean","default","Object","emits","setup","__props","expose","emit","gap","x","y","isActive","isMoving","editorWrapper","wrapperStyle","calcMovePosition","e","container","document","getElementById","left","clientX","offsetLeft","top","clientY","offsetTop","startMove","currentElement","value","getBoundingClientRect","handleMove","style","handleMouseUp","removeEventListener","addEventListener","calcResize","direction","positions","right","bottom","editorContainer","width","height","topVal","startResize","data","newWidth","newHeight","newTop","console","log","onItemClick","__returned__","v","defineProperty","enumerable"],"sourceRoot":"","sources":["D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\vue3-project\\lego\\src\\components\\EditorWrapper.vue?vue&type=script&setup=true&lang=ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { computed, ref, nextTick } from 'vue'\r\nimport { pick } from 'lodash-es'\r\ntype ResizeDirection = 'top-left' | 'top-right' | 'bottom-left' | 'bottom-right'\r\ninterface Position {\r\n  left: number;\r\n  right: number;\r\n  top: number;\r\n  bottom: number;\r\n}\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'EditorWrapper',\n  props: {\r\n  id: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  active: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  props: {\r\n    type: Object\r\n  }\r\n},\n  emits: ['setActive', 'update-position', 'update-width-height'],\n  setup(__props, { expose, emit }) {\n  expose();\n\nconst props = __props;\n\r\n\r\n\r\n// 盒内鼠标到盒子边框的距离\r\nconst gap = {\r\n  x: 0,\r\n  y: 0\r\n}\r\nconst isActive = ref(false)\r\nlet isMoving = false\r\nconst editorWrapper = ref<null | HTMLElement>(null)\r\n\r\nconst wrapperStyle = computed(() => {\r\n  return pick(props.props, [ 'top','left', 'width', 'height'])\r\n})\r\n\r\nconst calcMovePosition = (e: MouseEvent) => {\r\n  const container = document.getElementById('canvas-area') as HTMLElement\r\n  const left = e.clientX - gap.x - container.offsetLeft\r\n  const top = e.clientY - gap.y - container.offsetTop\r\n  return {\r\n    left,\r\n    top\r\n  }\r\n}\r\n// 移动元素位置\r\nconst startMove = (e: MouseEvent) => {\r\n  isMoving = true\r\n  const currentElement = editorWrapper.value\r\n  if (editorWrapper.value) {\r\n    const { left, top } = editorWrapper.value.getBoundingClientRect()\r\n    gap.x = e.clientX - left\r\n    // 鼠标到视口的距离e.clientX\r\n    gap.y = e.clientY - top\r\n  }\r\n  const handleMove = (e: MouseEvent) => {\r\n    const { left, top } = calcMovePosition(e)\r\n    if (currentElement) {\r\n      currentElement.style.top = top + 'px'\r\n      currentElement.style.left = left + 'px'\r\n    }\r\n  }\r\n  const handleMouseUp = (e) => {\r\n    document.removeEventListener('mousemove', handleMove)\r\n    if (isMoving) {\r\n      const { top, left } = calcMovePosition(e)\r\n      emit('update-position', { top, left, id: props.id })\r\n      isMoving = false\r\n      nextTick(() => {\r\n        document.removeEventListener('mouseup', handleMouseUp)\r\n      })\r\n    }\r\n  }\r\n  document.addEventListener('mousemove', handleMove)\r\n  document.addEventListener('mouseup', handleMouseUp)\r\n}\r\n\r\n// 拖拽元素尺寸大小 这个方法需要复用\r\nconst calcResize = (e: MouseEvent, direction: ResizeDirection, positions: Position) => {\r\n  const { clientX, clientY } = e\r\n  const { left, right, top, bottom } = positions\r\n  const editorContainer = document.getElementById('canvas-area')\r\n  // 问题：为什么getElementsByClassName拿不到offsetLeft\r\n  // const container = editorWrapper.value\r\n  if (editorContainer) {\r\n    let width = -1\r\n    let height = -1\r\n    let topVal = 0\r\n    switch (direction) {\r\n    case 'top-left':\r\n      break;\r\n    case 'top-right':\r\n      width = clientX - left\r\n      height = bottom - clientY\r\n      topVal = clientY + editorContainer.offsetTop\r\n      return {\r\n        width,\r\n        height,\r\n        topVal\r\n      }\r\n    case 'bottom-left':\r\n      break;\r\n    case 'bottom-right':\r\n      width = clientX - left\r\n      height = clientY - top\r\n      return {\r\n        width,\r\n        height\r\n      }\r\n    }\r\n    // return {\r\n    //   width,\r\n    //   height,\r\n    //   topVal\r\n    // }\r\n  }\r\n}\r\nconst startResize = (e, direction) => {\r\n  const container = document.getElementById('editor-wrapper') as HTMLElement\r\n  const { left, right, top, bottom } = container.getBoundingClientRect()\r\n  const handleMove = (e) => {\r\n    const data = calcResize(e, direction, { left, right, top, bottom })\r\n    if (data) {\r\n      const newWidth = data.width + 'px'\r\n      const newHeight = data.height + 'px'\r\n      const newTop = data.topVal + 'px' \r\n      console.log(newWidth, newHeight);\r\n      // container.style.width = newWidth + 'px'\r\n      // container.style.height = newHeight + 'px'\r\n      // container.style.top = newTop + 'px'\r\n      emit('update-width-height', { width: newWidth , height: newHeight, top: newTop, id: props.id })\r\n    }\r\n  }\r\n  const handleMouseUp = () => {\r\n    removeEventListener('mousemove', handleMove)\r\n    nextTick(() => {\r\n      document.removeEventListener('mouseup', startMove)\r\n    })\r\n  }\r\n  addEventListener('mousemove', handleMove)\r\n  addEventListener('mouseup', handleMouseUp)\r\n}\r\n\r\nconst onItemClick = () => {\r\n  emit('setActive', props.id)\r\n  isActive.value = true\r\n}\r\n\nconst __returned__ = { props, emit, gap, isActive, get isMoving() { return isMoving }, set isMoving(v) { isMoving = v }, editorWrapper, wrapperStyle, calcMovePosition, startMove, calcResize, startResize, onItemClick }\nObject.defineProperty(__returned__, '__isScriptSetup', { enumerable: false, value: true })\nreturn __returned__\n}\n\n})"]}]}