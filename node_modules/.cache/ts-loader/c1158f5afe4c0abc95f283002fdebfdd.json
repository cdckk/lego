{"remainingRequest":"D:\\vue3-project\\lego\\node_modules\\babel-loader\\lib\\index.js!D:\\vue3-project\\lego\\node_modules\\ts-loader\\index.js??ref--15-2!D:\\vue3-project\\lego\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\vue3-project\\lego\\src\\store\\editor.ts","dependencies":[{"path":"D:\\vue3-project\\lego\\src\\store\\editor.ts","mtime":1677514847028},{"path":"D:\\vue3-project\\lego\\babel.config.js","mtime":1677514846241},{"path":"D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674816758787},{"path":"D:\\vue3-project\\lego\\node_modules\\babel-loader\\lib\\index.js","mtime":1674816767357},{"path":"D:\\vue3-project\\lego\\node_modules\\ts-loader\\index.js","mtime":1674816768512},{"path":"D:\\vue3-project\\lego\\node_modules\\eslint-loader\\index.js","mtime":1674816759137}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnOwpleHBvcnQgY29uc3QgdGVzdENvbXBvbmVudHMgPSBbewogIGlkOiB1dWlkdjQoKSwKICBuYW1lOiAnTFRleHQnLAogIHByb3BzOiB7CiAgICB0ZXh0OiAnaGVsbG8nLAogICAgZm9udFNpemU6ICc1MHB4JywKICAgIGNvbG9yOiAncmVkJywKICAgIGxpbmVIZWlnaHQ6ICcxJywKICAgIHRleHRBbGlnbjogJ2xlZnQnLAogICAgZm9udEZhbWlseTogJycKICB9Cn0sIHsKICBpZDogdXVpZHY0KCksCiAgbmFtZTogJ0xUZXh0JywKICBwcm9wczogewogICAgdGV4dDogJ2hlbGxvMicsCiAgICBmb250U2l6ZTogJzI1cHgnLAogICAgJ2xpbmUtaGVpZ2h0JzogJzEnLAogICAgdGV4dEFsaWduOiAnbGVmdCcKICB9Cn0sIHsKICBpZDogdXVpZHY0KCksCiAgbmFtZTogJ0xUZXh0JywKICBwcm9wczogewogICAgdGV4dDogJ2hlbGxvMycsCiAgICBmb250U2l6ZTogJzE1cHgnLAogICAgYWN0aW9uVHlwZTogJ3VybCcsCiAgICB1cmw6ICdodHRwczovL3d3dy5iYWlkdS5jb20vJywKICAgIHRleHRBbGlnbjogJ2xlZnQnCiAgfQp9XTsKY29uc3QgZWRpdG9yID0gewogIHN0YXRlOiB7CiAgICBjb21wb25lbnRzOiB0ZXN0Q29tcG9uZW50cywKICAgIGN1cnJlbnRFbGVtZW50OiAnJwogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBhZGRDb21wb25lbnQoc3RhdGUsIHByb3BzKSB7CiAgICAgIC8vIGFkZENvbXBvbmVudChzdGF0ZSwgY29tcG9uZW50OiBDb21wb25lbnREYXRhKSB7CiAgICAgIC8vIGNvbnN0IG5ld0NvbXBvbmVudDogQ29tcG9uZW50RGF0YSA9IHsgaWQ6IHV1aWR2NCgpLCBuYW1lOiAnTFRleHQnLCBwcm9wcyB9CiAgICAgIC8vIHN0YXRlLmNvbXBvbmVudHMucHVzaChuZXdDb21wb25lbnQpCiAgICAgIC8vIHByb3BzLmhhc093blByb3BlcnR5LmNhbGwoJ3RleHQnKQogICAgICBpZiAoJ3RleHQnIGluIHByb3BzKSB7CiAgICAgICAgY29uc3QgbmV3Q29tcG9uZW50ID0gewogICAgICAgICAgaWQ6IHV1aWR2NCgpLAogICAgICAgICAgbmFtZTogJ0xUZXh0JywKICAgICAgICAgIHByb3BzCiAgICAgICAgfTsKICAgICAgICBzdGF0ZS5jb21wb25lbnRzLnB1c2gobmV3Q29tcG9uZW50KTsKICAgICAgfSBlbHNlIGlmICgnc3JjJyBpbiBwcm9wcykgewogICAgICAgIGNvbnNvbGUubG9nKCdwcm9wcycsIHByb3BzKTsKICAgICAgICBjb25zdCBuZXdDb21wb25lbnQgPSB7CiAgICAgICAgICBpZDogdXVpZHY0KCksCiAgICAgICAgICBuYW1lOiAnTEltYWdlJywKICAgICAgICAgIHByb3BzCiAgICAgICAgfTsKICAgICAgICBzdGF0ZS5jb21wb25lbnRzLnB1c2gobmV3Q29tcG9uZW50KTsKICAgICAgfQogICAgfSwKICAgIGRlbGV0ZUNvbXBvbmVudChzdGF0ZSwgcHJvcHMpIHsKICAgICAgLyoqDQogICAgICAgKiDliKDpmaTmlbDnu4TkuK3mjIflrprmlbDnu4Tlr7nosaENCiAgICAgICAqLwogICAgICBzdGF0ZS5jb21wb25lbnRzLmZvckVhY2goKGl0ZW0sIGluZGV4LCBhcnIpID0+IHsKICAgICAgICBpZiAoaXRlbS5wcm9wcy50ZXh0ID09PSBwcm9wcy50ZXh0KSB7CiAgICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNldEFjdGl2ZShzdGF0ZSwgY3VycmVudElkKSB7CiAgICAgIHN0YXRlLmN1cnJlbnRFbGVtZW50ID0gY3VycmVudElkOwogICAgfSwKICAgIHVwZGF0ZUNvbXBvbmVudChzdGF0ZSwgewogICAgICBrZXksCiAgICAgIHZhbHVlCiAgICB9KSB7CiAgICAgIGNvbnN0IHVwZGF0ZUNvbXBvbmVudCA9IHN0YXRlLmNvbXBvbmVudHMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IHN0YXRlLmN1cnJlbnRFbGVtZW50KTsKICAgICAgaWYgKHVwZGF0ZUNvbXBvbmVudCkgewogICAgICAgIHVwZGF0ZUNvbXBvbmVudC5wcm9wc1trZXldID0gdmFsdWU7CiAgICAgIH0KICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGdldEN1cnJlbnRFbGVtZW50OiBzdGF0ZSA9PiB7CiAgICAgIHJldHVybiBzdGF0ZS5jb21wb25lbnRzLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBzdGF0ZS5jdXJyZW50RWxlbWVudCk7CiAgICB9CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBlZGl0b3I7"},{"version":3,"mappings":";AAEA,SAASA,EAAE,IAAIC,MAAM,QAAQ,MAAM;AAenC,OAAO,MAAMC,cAAc,GAAoB,CAC7C;EAAEC,EAAE,EAAEF,MAAM,EAAE;EAAEG,IAAI,EAAE,OAAO;EAAEC,KAAK,EAAE;IAAEC,IAAI,EAAE,OAAO;IAAEC,QAAQ,EAAE,MAAM;IAAEC,KAAK,EAAE,KAAK;IAAEC,UAAU,EAAE,GAAG;IAAEC,SAAS,EAAE,MAAM;IAAEC,UAAU,EAAE;EAAE;AAAE,CAAC,EAC5I;EAAER,EAAE,EAAEF,MAAM,EAAE;EAAEG,IAAI,EAAE,OAAO;EAAEC,KAAK,EAAE;IAAEC,IAAI,EAAE,QAAQ;IAAEC,QAAQ,EAAE,MAAM;IAAE,aAAa,EAAE,GAAG;IAAEG,SAAS,EAAE;EAAM;AAAE,CAAC,EAClH;EAAEP,EAAE,EAAEF,MAAM,EAAE;EAAEG,IAAI,EAAE,OAAO;EAAEC,KAAK,EAAE;IAAEC,IAAI,EAAE,QAAQ;IAAEC,QAAQ,EAAE,MAAM;IAAEK,UAAU,EAAE,KAAK;IAAEC,GAAG,EAAE,wBAAwB;IAAEH,SAAS,EAAE;EAAM;AAAE,CAAC,CACjJ;AAED,MAAMI,MAAM,GAAyC;EACnDC,KAAK,EAAE;IACLC,UAAU,EAAEd,cAAc;IAC1Be,cAAc,EAAE;GACjB;EACDC,SAAS,EAAE;IACTC,YAAY,CAACJ,KAAK,EAAEV,KAAwD;MAC5E;MACE;MACA;MACA;MACA,IAAI,MAAM,IAAIA,KAAK,EAAE;QACnB,MAAMe,YAAY,GAAkB;UAAEjB,EAAE,EAAEF,MAAM,EAAE;UAAEG,IAAI,EAAE,OAAO;UAAEC;QAAK,CAAE;QAC1EU,KAAK,CAACC,UAAU,CAACK,IAAI,CAACD,YAAY,CAAC;OACpC,MAAM,IAAI,KAAK,IAAIf,KAAK,EAAE;QACzBiB,OAAO,CAACC,GAAG,CAAC,OAAO,EAAElB,KAAK,CAAC;QAE3B,MAAMe,YAAY,GAAkB;UAAEjB,EAAE,EAAEF,MAAM,EAAE;UAAEG,IAAI,EAAE,QAAQ;UAAEC;QAAK,CAAE;QAC3EU,KAAK,CAACC,UAAU,CAACK,IAAI,CAACD,YAAY,CAAC;;IAEvC,CAAC;IACDI,eAAe,CAACT,KAAK,EAAEV,KAAK;MAC1B;;;MAGAU,KAAK,CAACC,UAAU,CAACS,OAAO,CAAC,CAACC,IAAI,EAAEC,KAAK,EAAEC,GAAG,KAAI;QAC5C,IAAGF,IAAI,CAACrB,KAAK,CAACC,IAAI,KAAKD,KAAK,CAACC,IAAI,EAAE;UACjCsB,GAAG,CAACC,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;;MAExB,CAAC,CAAC;IACJ,CAAC;IACDG,SAAS,CAACf,KAAK,EAAEgB,SAAiB;MAChChB,KAAK,CAACE,cAAc,GAAGc,SAAS;IAClC,CAAC;IACDC,eAAe,CAACjB,KAAK,EAAE;MAAEkB,GAAG;MAAEC;IAAK,CAAE;MACnC,MAAMF,eAAe,GAAGjB,KAAK,CAACC,UAAU,CAACmB,IAAI,CAAET,IAAI,IAAKA,IAAI,CAACvB,EAAE,KAAKY,KAAK,CAACE,cAAc,CAAC;MACzF,IAAGe,eAAe,EAAE;QAClBA,eAAe,CAAC3B,KAAK,CAAC4B,GAA+B,CAAC,GAAGC,KAAK;;IAElE;GACD;EACDE,OAAO,EAAE;IACPC,iBAAiB,EAAGtB,KAAK,IAAI;MAC3B,OAAOA,KAAK,CAACC,UAAU,CAACmB,IAAI,CAAET,IAAI,IAAKA,IAAI,CAACvB,EAAE,KAAKY,KAAK,CAACE,cAAc,CAAC;IAC1E;;CAEH;AAED,eAAeH,MAAM","names":["v4","uuidv4","testComponents","id","name","props","text","fontSize","color","lineHeight","textAlign","fontFamily","actionType","url","editor","state","components","currentElement","mutations","addComponent","newComponent","push","console","log","deleteComponent","forEach","item","index","arr","splice","setActive","currentId","updateComponent","key","value","find","getters","getCurrentElement"],"sourceRoot":"","sources":["D:\\vue3-project\\lego\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\vue3-project\\lego\\src\\store\\editor.ts"],"sourcesContent":["import { Module } from 'vuex'\r\nimport { GlobalDataProps } from './index'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { TextComponentProps } from '../defaultProps'\r\nimport { ImageComponentProps } from '../defaultProps'\r\n\r\nexport interface ComponentData {\r\n  props: { [key: string]: any };\r\n  id: string;\r\n  name: string;\r\n}\r\n\r\nexport interface EditorProps {\r\n  components: ComponentData[];\r\n  currentElement: string;\r\n}\r\n\r\nexport const testComponents: ComponentData[] = [\r\n  { id: uuidv4(), name: 'LText', props: { text: 'hello', fontSize: '50px', color: 'red', lineHeight: '1', textAlign: 'left', fontFamily: '' }},\r\n  { id: uuidv4(), name: 'LText', props: { text: 'hello2', fontSize: '25px', 'line-height': '1', textAlign: 'left' }},\r\n  { id: uuidv4(), name: 'LText', props: { text: 'hello3', fontSize: '15px', actionType: 'url', url: 'https://www.baidu.com/', textAlign: 'left' }}\r\n]\r\n\r\nconst editor: Module<EditorProps, GlobalDataProps> = {\r\n  state: {\r\n    components: testComponents,\r\n    currentElement: ''\r\n  },\r\n  mutations: {\r\n    addComponent(state, props: Partial<TextComponentProps | ImageComponentProps>) {\r\n    // addComponent(state, component: ComponentData) {\r\n      // const newComponent: ComponentData = { id: uuidv4(), name: 'LText', props }\r\n      // state.components.push(newComponent)\r\n      // props.hasOwnProperty.call('text')\r\n      if ('text' in props) {\r\n        const newComponent: ComponentData = { id: uuidv4(), name: 'LText', props }\r\n        state.components.push(newComponent)\r\n      } else if ('src' in props) {\r\n        console.log('props', props);\r\n        \r\n        const newComponent: ComponentData = { id: uuidv4(), name: 'LImage', props }\r\n        state.components.push(newComponent)\r\n      }\r\n    },\r\n    deleteComponent(state, props) {\r\n      /**\r\n       * 删除数组中指定数组对象\r\n       */\r\n      state.components.forEach((item, index, arr) => {\r\n        if(item.props.text === props.text) {\r\n          arr.splice(index, 1)\r\n        }\r\n      })\r\n    },\r\n    setActive(state, currentId: string) {\r\n      state.currentElement = currentId\r\n    },\r\n    updateComponent(state, { key, value }) {\r\n      const updateComponent = state.components.find((item) => item.id === state.currentElement)\r\n      if(updateComponent) {\r\n        updateComponent.props[key as keyof TextComponentProps] = value\r\n      }\r\n    }\r\n  },\r\n  getters: {\r\n    getCurrentElement: (state) => {\r\n      return state.components.find((item) => item.id === state.currentElement)\r\n    }\r\n  }\r\n}\r\n\r\nexport default editor"]}]}