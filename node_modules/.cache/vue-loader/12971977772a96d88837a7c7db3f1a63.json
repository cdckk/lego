{"remainingRequest":"D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\vue3-project\\lego\\src\\components\\PropsTable.vue?vue&type=template&id=16ea9924&scoped=true&ts=true","dependencies":[{"path":"D:\\vue3-project\\lego\\src\\components\\PropsTable.vue","mtime":1675685933398},{"path":"D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674816758787},{"path":"D:\\vue3-project\\lego\\node_modules\\babel-loader\\lib\\index.js","mtime":1674816767357},{"path":"D:\\vue3-project\\lego\\node_modules\\ts-loader\\index.js","mtime":1674816768512},{"path":"D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1674816774476},{"path":"D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674816758787},{"path":"D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1674816769351}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxkaXYgY2xhc3M9InByb3BzLXRhYmxlIj4NCiAgICA8ZGl2DQogICAgICB2LWZvcj0iKHZhbHVlLCBrZXkpIGluIGZpbmFsUHJvcHMiDQogICAgICA6a2V5PSJrZXkiDQogICAgICBjbGFzcz0icHJvcC1pdGVtIg0KICAgID4NCiAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCIgdi1pZj0idmFsdWUudGV4dCI+e3t2YWx1ZS50ZXh0fX08L3NwYW4+DQogICAgICA8Y29tcG9uZW50IGNsYXNzPSJwcm9wLWNvbXBvbmVudCIgdi1pZj0idmFsdWUiIDppcz0idmFsdWUuY29tcG9uZW50IiA6W3ZhbHVlLnZhbHVlUHJvcF09InZhbHVlLnZhbHVlIiB2LW9uPSJ2YWx1ZS5ldmVudHMiIHYtYmluZD0idmFsdWUuZXh0cmFQcm9wcyI+DQogICAgICAgIDx0ZW1wbGF0ZSB2LWlmPSJ2YWx1ZS5vcHRpb25zIj4NCiAgICAgICAgICA8Y29tcG9uZW50IHYtZm9yPSIob3B0aW9uLCBrKSBpbiB2YWx1ZS5vcHRpb25zIiA6a2V5PSJrIiA6aXM9InZhbHVlLnN1YkNvbXBvbmVudCIgOnZhbHVlPSJvcHRpb24udmFsdWUiPnt7b3B0aW9uLnRleHR9fTwvY29tcG9uZW50Pg0KICAgICAgICA8L3RlbXBsYXRlPg0KICAgICAgPC9jb21wb25lbnQ+DQogICAgPC9kaXY+DQogIDwvZGl2Pg0K"},{"version":3,"sources":["D:\\vue3-project\\lego\\src\\components\\PropsTable.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC,CAAC;MACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB;MACE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"D:/vue3-project/lego/src/components/PropsTable.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"props-table\">\r\n    <div\r\n      v-for=\"(value, key) in finalProps\"\r\n      :key=\"key\"\r\n      class=\"prop-item\"\r\n    >\r\n      <span class=\"label\" v-if=\"value.text\">{{value.text}}</span>\r\n      <component class=\"prop-component\" v-if=\"value\" :is=\"value.component\" :[value.valueProp]=\"value.value\" v-on=\"value.events\" v-bind=\"value.extraProps\">\r\n        <template v-if=\"value.options\">\r\n          <component v-for=\"(option, k) in value.options\" :key=\"k\" :is=\"value.subComponent\" :value=\"option.value\">{{option.text}}</component>\r\n        </template>\r\n      </component>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { defineProps, PropType, computed, defineEmits } from 'vue'\r\nimport { reduce } from 'lodash'\r\nimport { PropsToForms, mapPropsToForms } from '../propsMap'\r\nimport { TextComponentProps } from '../defaultProps'\r\n\r\ninterface FormProps {\r\n  component: string;\r\n  value: string;\r\n  extraProps?: { [key: string]: any };\r\n  text?: string;\r\n  subComponent?: string;\r\n  options?: { text: string; value: any }[];\r\n  valueProp: string;\r\n  eventName: string;\r\n  events: { [key: string]: (e: any) => void };\r\n}\r\n\r\nconst props = defineProps({\r\n  props: {\r\n    type: Object as PropType<TextComponentProps>,\r\n    required: true\r\n  }\r\n})\r\nconst emit = defineEmits(['change'])\r\nconst finalProps = computed(() => {\r\n  return reduce(props.props, (result, value, key) => {\r\n    const newKey = key as keyof TextComponentProps\r\n    const item = mapPropsToForms[newKey]\r\n    if (item) {\r\n      const { valueProp = 'value', eventName = 'change', initalTransform, afterTransform } = item\r\n      const newItem: FormProps = {\r\n        ...item,\r\n        value: initalTransform ? initalTransform(value) : value,\r\n        valueProp,\r\n        eventName,\r\n        events: {\r\n          [eventName]: (e: any) => { emit('change', { key, value: afterTransform ? afterTransform(e) : e })}\r\n        }\r\n      }\r\n      // item.value = item.initalTransform ? item.initalTransform(value) : value\r\n      // item.valueProp = item.valueProp ? item.valueProp : 'value'\r\n      // result[newKey] = item\r\n      result[newKey] = newItem\r\n    }\r\n    return result\r\n  // }, {} as Required<PropsToForms>)\r\n  }, {} as {[key: string]: FormProps})\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.prop-item {\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n  align-items: center;\r\n}\r\n.label {\r\n  width: 28%;\r\n}\r\n.prop-component {\r\n  width: 72%;\r\n}\r\n</style>\r\n"]}]}