{"remainingRequest":"D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\vue3-project\\lego\\src\\components\\InlineEdit.vue?vue&type=script&slang=ts&lang=js","dependencies":[{"path":"D:\\vue3-project\\lego\\src\\components\\InlineEdit.vue","mtime":1677909876293},{"path":"D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674816758787},{"path":"D:\\vue3-project\\lego\\node_modules\\babel-loader\\lib\\index.js","mtime":1674816767357},{"path":"D:\\vue3-project\\lego\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1674816758787},{"path":"D:\\vue3-project\\lego\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1674816769351}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyByZWYsIGRlZmluZVByb3BzLCBkZWZpbmVFbWl0cywgd2F0Y2ggfSBmcm9tICd2dWUnDQppbXBvcnQgdXNlS2V5UHJlc3MgZnJvbSAnLi4vaG9va3MvdXNlS2V5UHJlc3MnDQppbXBvcnQgdXNlQ2xpY2tPdXRzaWRlIGZyb20gJy4uL2hvb2tzL3VzZUNsaWNrT3V0c2lkZScNCmNvbnN0IHByb3BzID0gZGVmaW5lUHJvcHMoew0KICB2YWx1ZTogew0KICAgIHR5cGU6IFN0cmluZywNCiAgICByZXF1ZXN0OiB0cnVlDQogIH0NCn0pDQpsZXQgY2FjaGVPbGRWYWx1ZSA9ICcnDQpjb25zdCBlbWl0ID0gZGVmaW5lRW1pdHMoWydjaGFuZ2UnXSkNCmNvbnN0IGlubmVyVmFsdWUgPSByZWYocHJvcHMudmFsdWUpDQpjb25zdCBpc0VkaXRpbmcgPSByZWY8Ym9vbGVhbj4oZmFsc2UpDQpjb25zdCB3cmFwcGVyID0gcmVmPG51bGwgfCBIVE1MRWxlbWVudD4obnVsbCkNCmNvbnN0IGlzT3V0c2lkZSA9IHVzZUNsaWNrT3V0c2lkZSh3cmFwcGVyKQ0Kd2F0Y2goaXNPdXRzaWRlLCAobmV3VmFsdWUpID0+IHsNCiAgaWYgKG5ld1ZhbHVlICYmIGlzRWRpdGluZy52YWx1ZSkgew0KICAgIGlzRWRpdGluZy52YWx1ZSA9IGZhbHNlDQogICAgZW1pdCgnY2hhbmdlJywgaW5uZXJWYWx1ZS52YWx1ZSkNCiAgfQ0KfSkNCndhdGNoKGlzRWRpdGluZywgKGlzRWRpdGluZykgPT4gew0KICBpZiAoaXNFZGl0aW5nICYmIGlubmVyVmFsdWUudmFsdWUpIHsNCiAgICBjYWNoZU9sZFZhbHVlID0gaW5uZXJWYWx1ZS52YWx1ZQ0KICB9DQp9KQ0KY29uc3QgaGFuZGxlQ2xpY2sgPSAoKSA9PiB7DQogIGNvbnNvbGUubG9nKCdkaWFuamknKTsNCiAgDQogIGlzRWRpdGluZy52YWx1ZSA9IHRydWUNCn0NCnVzZUtleVByZXNzKCdFbnRlcicsICgpID0+IHsNCiAgaWYgKGlzRWRpdGluZy52YWx1ZSkgew0KICAgIGlzRWRpdGluZy52YWx1ZSA9IGZhbHNlDQogICAgZW1pdCgnY2hhbmdlJywgaW5uZXJWYWx1ZS52YWx1ZSkNCiAgfQ0KfSkNCnVzZUtleVByZXNzKCdFc2NvcGUnLCAoKSA9PiB7DQogIGlmIChpc0VkaXRpbmcudmFsdWUpIHsNCiAgICBpc0VkaXRpbmcudmFsdWUgPSBmYWxzZQ0KICAgIGlubmVyVmFsdWUudmFsdWUgPSBjYWNoZU9sZFZhbHVlDQogIH0NCn0pDQoNCg=="},{"version":3,"sources":["D:\\vue3-project\\lego\\src\\components\\InlineEdit.vue"],"names":[],"mappings":";AAiBA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACzD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACxB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACL,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACd;AACF,CAAC;AACD,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;AACrB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACnC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAClC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACzC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;EAC7B,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACjC;AACF,CAAC;AACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;EAC9B,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACjC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACjC;AACF,CAAC;AACD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE;EACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;EAErB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;AACvB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;EACzB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACjC;AACF,CAAC;AACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;EAC1B,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACjC;AACF,CAAC","file":"D:/vue3-project/lego/src/components/InlineEdit.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div\r\n    class=\"inline-edit\" \r\n    @click.stop=\"handleClick\"\r\n    ref=\"wrapper\"\r\n  >\r\n    <input\r\n      v-model=\"innerValue\"\r\n      v-if=\"isEditing\"\r\n      placeholder=\"文本不能为空\"\r\n      ref=\"inputRef\"\r\n      type=\"text\" />\r\n    <slot v-else><span>{{innerValue}}</span></slot>\r\n  </div>\r\n</template>\r\n\r\n<script slang=\"ts\">\r\nimport { ref, defineProps, defineEmits, watch } from 'vue'\r\nimport useKeyPress from '../hooks/useKeyPress'\r\nimport useClickOutside from '../hooks/useClickOutside'\r\nconst props = defineProps({\r\n  value: {\r\n    type: String,\r\n    request: true\r\n  }\r\n})\r\nlet cacheOldValue = ''\r\nconst emit = defineEmits(['change'])\r\nconst innerValue = ref(props.value)\r\nconst isEditing = ref<boolean>(false)\r\nconst wrapper = ref<null | HTMLElement>(null)\r\nconst isOutside = useClickOutside(wrapper)\r\nwatch(isOutside, (newValue) => {\r\n  if (newValue && isEditing.value) {\r\n    isEditing.value = false\r\n    emit('change', innerValue.value)\r\n  }\r\n})\r\nwatch(isEditing, (isEditing) => {\r\n  if (isEditing && innerValue.value) {\r\n    cacheOldValue = innerValue.value\r\n  }\r\n})\r\nconst handleClick = () => {\r\n  console.log('dianji');\r\n  \r\n  isEditing.value = true\r\n}\r\nuseKeyPress('Enter', () => {\r\n  if (isEditing.value) {\r\n    isEditing.value = false\r\n    emit('change', innerValue.value)\r\n  }\r\n})\r\nuseKeyPress('Escope', () => {\r\n  if (isEditing.value) {\r\n    isEditing.value = false\r\n    innerValue.value = cacheOldValue\r\n  }\r\n})\r\n\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n</style>\r\n"]}]}